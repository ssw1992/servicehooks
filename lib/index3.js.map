{"version":3,"file":"index3.js","sources":["../packages/subscribe/index.ts"],"sourcesContent":["import { onUnmounted } from \"vue\";\r\n\r\n\r\nexport const useSubscribe = () => {\r\n  const theArr: any[] = [];\r\n\r\n  const subscribe = (cb: () => any) => {\r\n    if (theArr.includes(cb) || !(typeof cb === \"function\")) {\r\n      return;\r\n    }\r\n    theArr.push(cb);\r\n  };\r\n  const publish = () => {\r\n    theArr.forEach((cb) => cb());\r\n  };\r\n  const unsubscribe = (cb: () => any) => {\r\n    const index = theArr.findIndex(cb);\r\n    if (index > -1) {\r\n      theArr.splice(index, 1);\r\n    }\r\n  };\r\n\r\n  onUnmounted(() => {\r\n    theArr.length = 0;\r\n  });\r\n\r\n  return {\r\n    subscribe,\r\n    publish,\r\n    unsubscribe\r\n  };\r\n};\r\n"],"names":["useSubscribe","theArr","subscribe","cb","publish","unsubscribe","index","onUnmounted"],"mappings":";AAGO,MAAMA,IAAe,MAAM;AAChC,QAAMC,IAAgB,CAAA,GAEhBC,IAAY,CAACC,MAAkB;AACnC,IAAIF,EAAO,SAASE,CAAE,KAAO,OAAOA,KAAO,cAG3CF,EAAO,KAAKE,CAAE;AAAA,EAAA,GAEVC,IAAU,MAAM;AACpB,IAAAH,EAAO,QAAQ,CAACE,MAAOA,EAAI,CAAA;AAAA,EAAA,GAEvBE,IAAc,CAACF,MAAkB;AAC/B,UAAAG,IAAQL,EAAO,UAAUE,CAAE;AACjC,IAAIG,IAAQ,MACHL,EAAA,OAAOK,GAAO,CAAC;AAAA,EACxB;AAGF,SAAAC,EAAY,MAAM;AAChB,IAAAN,EAAO,SAAS;AAAA,EAAA,CACjB,GAEM;AAAA,IACL,WAAAC;AAAA,IACA,SAAAE;AAAA,IACA,aAAAC;AAAA,EAAA;AAEJ;"}